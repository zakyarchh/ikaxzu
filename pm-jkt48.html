<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PM JKT48 | Ikazz - 48</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        sage: '#E3F0E9',
                        blush: '#FFE5E5',
                        peach: '#FFE8D9',
                        dark: '#1C1C1E',
                        secondary: '#8E8E93',
                        divider: '#E5E5E7'
                    },
                    fontFamily: {
                        sans: ['Outfit', 'Inter', 'sans-serif']
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slow': 'bounce 2s infinite',
                        'gradient': 'gradient 3s ease infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'ping-slow': 'ping 2s cubic-bezier(0, 0, 0.2, 1) infinite',
                    },
                    keyframes: {
                        gradient: {
                            '0%, 100%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Outfit', 'Inter', sans-serif; }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .animate-fadeInUp {
            animation: fadeInUp 0.5s ease-out forwards;
        }
        
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        
        .animate-slideInRight {
            animation: slideInRight 0.5s ease-out forwards;
        }
        
        .animate-slideInLeft {
            animation: slideInLeft 0.5s ease-out forwards;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(229, 229, 231, 0.3);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(229, 229, 231, 0.5);
        }
        
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 30px -10px rgba(139, 92, 246, 0.3);
        }
        
        .gradient-bg {
            background: linear-gradient(-45deg, #f5f3ff, #ede9fe, #fae8ff, #f5f3ff);
            background-size: 400% 400%;
            animation: gradient 10s ease infinite;
        }
        
        .modal-backdrop {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px);
        }
        
        .coming-soon-badge {
            background: linear-gradient(135deg, #10b981, #a78bfa);
            box-shadow: 0 10px 20px -5px rgba(139, 92, 246, 0.4);
        }
        
        .feature-icon {
            transition: all 0.3s;
        }
        
        .feature-card:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .purple-glow {
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.3);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 via-white to-pink-50 min-h-screen">
    <!-- Header -->
    <header class="sticky top-0 z-40 glass border-b border-divider/30">
        <div class="max-w-lg mx-auto px-6 py-4">
            <div class="flex items-center gap-4">
                <a href="shop.html" class="w-10 h-10 flex items-center justify-center rounded-xl bg-gray-100 hover:bg-gray-200 transition-all hover:scale-110">
                    <svg class="w-5 h-5 text-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </a>
                <div>
                    <h1 class="text-2xl font-bold text-dark">PM JKT48</h1>
                    <p class="text-secondary text-sm mt-0.5">Private Message dengan member</p>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-lg mx-auto px-6 py-6">
        <!-- Hero Section with Coming Soon -->
        <div class="relative mb-8 animate-fadeInUp">
            <div class="coming-soon-badge rounded-3xl p-8 text-white text-center relative overflow-hidden">
                <!-- Animated Background -->
                <div class="absolute inset-0 opacity-20">
                    <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
                        <defs>
                            <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse">
                                <path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5"/>
                            </pattern>
                        </defs>
                        <rect width="100" height="100" fill="url(#grid)"/>
                    </svg>
                </div>
                
                <!-- Floating Orbs -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 animate-ping-slow"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/2 animate-pulse-slow"></div>
                
                <div class="relative">
                    <div class="w-24 h-24 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center mx-auto mb-6 animate-float">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                        </svg>
                    </div>
                    
                    <h2 class="text-3xl font-extrabold mb-2 tracking-tight">COMING SOON!</h2>
                    <p class="text-white/90 text-sm max-w-xs mx-auto">Fitur PM JKT48 sedang dalam tahap pengembangan. Nantikan pengalaman chat eksklusif dengan member favoritmu!</p>
                    
                    <!-- Countdown Timer (Contoh) -->
                    <div class="flex justify-center gap-3 mt-6">
                        <div class="bg-white/20 backdrop-blur-sm rounded-xl px-3 py-2 min-w-[60px]">
                            <span class="text-2xl font-bold block">30</span>
                            <span class="text-xs text-white/80">Hari</span>
                        </div>
                        <div class="bg-white/20 backdrop-blur-sm rounded-xl px-3 py-2 min-w-[60px]">
                            <span class="text-2xl font-bold block">12</span>
                            <span class="text-xs text-white/80">Jam</span>
                        </div>
                        <div class="bg-white/20 backdrop-blur-sm rounded-xl px-3 py-2 min-w-[60px]">
                            <span class="text-2xl font-bold block">45</span>
                            <span class="text-xs text-white/80">Menit</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features Preview -->
        <div class="mb-8">
            <h3 class="font-semibold text-dark text-lg mb-4 flex items-center gap-2">
                <span class="w-1 h-6 bg-purple-500 rounded-full"></span>
                Fitur yang Akan Datang
            </h3>
            
            <div class="space-y-3">
                <!-- Feature 1 -->
                <div class="feature-card bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-purple-100 card-hover animate-slideInLeft" style="animation-delay:0.1s">
                    <div class="flex items-start gap-4">
                        <div class="feature-icon w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/>
                            </svg>
                        </div>
                        <div>
                            <h4 class="font-bold text-dark">Chat Langsung</h4>
                            <p class="text-secondary text-sm mt-1">Kirim pesan langsung ke member favoritmu. Pesan akan terkirim secara real-time.</p>
                            <div class="flex items-center gap-2 mt-2">
                                <span class="text-xs bg-purple-100 text-purple-600 px-2 py-0.5 rounded-full">Real-time</span>
                                <span class="text-xs bg-pink-100 text-pink-600 px-2 py-0.5 rounded-full">Private</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 2 -->
                <div class="feature-card bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-purple-100 card-hover animate-slideInRight" style="animation-delay:0.2s">
                    <div class="flex items-start gap-4">
                        <div class="feature-icon w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                        </div>
                        <div>
                            <h4 class="font-bold text-dark">Kirim Foto & Video</h4>
                            <p class="text-secondary text-sm mt-1">Share momen spesial dengan member. Support berbagai format media.</p>
                            <div class="flex items-center gap-2 mt-2">
                                <span class="text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full">Foto</span>
                                <span class="text-xs bg-cyan-100 text-cyan-600 px-2 py-0.5 rounded-full">Video</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 3 -->
                <div class="feature-card bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-purple-100 card-hover animate-slideInLeft" style="animation-delay:0.3s">
                    <div class="flex items-start gap-4">
                        <div class="feature-icon w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                            </svg>
                        </div>
                        <div>
                            <h4 class="font-bold text-dark">Notifikasi Balasan</h4>
                            <p class="text-secondary text-sm mt-1">Dapatkan notifikasi instan saat member membalas pesanmu.</p>
                            <div class="flex items-center gap-2 mt-2">
                                <span class="text-xs bg-orange-100 text-orange-600 px-2 py-0.5 rounded-full">Push Notif</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 4 -->
                <div class="feature-card bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-purple-100 card-hover animate-slideInRight" style="animation-delay:0.4s">
                    <div class="flex items-start gap-4">
                        <div class="feature-icon w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <div>
                            <h4 class="font-bold text-dark">Sistem Token Khusus</h4>
                            <p class="text-secondary text-sm mt-1">Gunakan token khusus untuk fitur PM. Dapatkan dari pembelian paket.</p>
                            <div class="flex items-center gap-2 mt-2">
                                <span class="text-xs bg-emerald-100 text-emerald-600 px-2 py-0.5 rounded-full">Token</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Early Access Form -->
        <div class="bg-white rounded-3xl border border-purple-100 p-6 mb-6 shadow-lg animate-fadeInUp" style="animation-delay:0.5s">
            <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center">
                    <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                    </svg>
                </div>
                <h3 class="font-bold text-dark text-lg">Dapatkan Early Access</h3>
            </div>
            
            <p class="text-secondary text-sm mb-4">Daftarkan nomor WhatsApp kamu untuk mendapatkan akses early bird dan info terbaru tentang fitur PM JKT48.</p>
            
            <div class="relative mb-4">
                <svg class="w-5 h-5 text-secondary absolute left-4 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                </svg>
                <input type="tel" id="notifyPhone" class="w-full pl-12 pr-4 py-3 bg-gray-50 rounded-xl border border-divider focus:outline-none focus:ring-2 focus:ring-purple-500/30" placeholder="Nomor WhatsApp">
            </div>
            
            <div class="flex gap-3">
                <button onclick="submitNotify()" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-purple-200/50 transition-all transform hover:scale-[1.02]">
                    Daftar Early Access
                </button>
                <button onclick="clearNotify()" class="px-4 py-3 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Progress Tracker -->
        <div class="bg-white rounded-3xl border border-purple-100 p-6 mb-6">
            <h3 class="font-bold text-dark mb-4">Progress Pengembangan</h3>
            
            <div class="space-y-4">
                <div>
                    <div class="flex justify-between text-sm mb-2">
                        <span class="text-secondary">UI/UX Design</span>
                        <span class="font-bold text-purple-600">90%</span>
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                        <div class="bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full" style="width: 90%"></div>
                    </div>
                </div>
                
                <div>
                    <div class="flex justify-between text-sm mb-2">
                        <span class="text-secondary">Backend Development</span>
                        <span class="font-bold text-purple-600">65%</span>
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                        <div class="bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full" style="width: 65%"></div>
                    </div>
                </div>
                
                <div>
                    <div class="flex justify-between text-sm mb-2">
                        <span class="text-secondary">Testing & Security</span>
                        <span class="font-bold text-purple-600">40%</span>
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                        <div class="bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full" style="width: 40%"></div>
                    </div>
                </div>
            </div>
            
            <p class="text-xs text-secondary text-center mt-4">Target rilis: Q2 2024</p>
        </div>

        <!-- Contact Admin -->
        <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-3xl p-6 text-center animate-fadeInUp" style="animation-delay:0.6s">
            <div class="w-16 h-16 bg-green-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-green-200/50">
                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347"/>
                </svg>
            </div>
            <h3 class="font-bold text-dark text-lg mb-2">Ada Pertanyaan?</h3>
            <p class="text-secondary text-sm mb-4">Hubungi admin untuk info lebih lanjut tentang fitur PM JKT48</p>
            <a href="https://wa.me/6285183885551" target="_blank" class="inline-flex items-center gap-2 px-6 py-3 bg-green-500 text-white font-semibold rounded-xl hover:bg-green-600 transition-all hover:shadow-lg hover:shadow-green-200/50 transform hover:scale-105">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347"/>
                </svg>
                Chat Admin
            </a>
        </div>
    </main>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-backdrop absolute inset-0" onclick="hideSuccessModal()"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-3xl p-6 max-w-sm w-full mx-4 text-center animate-fadeInUp">
            <div class="w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-10 h-10 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
            </div>
            <h3 class="text-2xl font-bold text-dark mb-2">Berhasil Terdaftar!</h3>
            <p class="text-secondary mb-6">Kamu akan mendapatkan notifikasi early access segera. Cek WhatsApp kamu untuk info lebih lanjut.</p>
            <button onclick="hideSuccessModal()" class="w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-xl hover:shadow-lg transition-colors">
                Tutup
            </button>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="fixed top-4 left-1/2 -translate-x-1/2 z-50 opacity-0 transform -translate-y-4 transition-all duration-300 pointer-events-none">
        <div class="bg-dark text-white px-6 py-3 rounded-2xl shadow-lg flex items-center gap-3">
            <span id="toastIcon"></span>
            <span id="toastMessage" class="text-sm font-medium"></span>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase Config
        firebase.initializeApp({
            apiKey: "AIzaSyA9auv4Fb4qZgQmVt501XvgEL_hgHmFsjg",
            authDomain: "liveee-c493c.firebaseapp.com",
            projectId: "liveee-c493c"
        });
        
        const db = firebase.firestore();

        // Submit Notification
        async function submitNotify() {
            const phone = document.getElementById('notifyPhone').value.trim();
            
            if (!phone) {
                showToast('Masukkan nomor WhatsApp', 'error');
                return;
            }
            
            if (!phone.match(/^08[0-9]{8,11}$/)) {
                showToast('Format nomor tidak valid', 'error');
                return;
            }

            try {
                await db.collection('pmNotifications').add({
                    phone: phone,
                    source: 'pm-jkt48',
                    status: 'waiting',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                showSuccessModal();
                document.getElementById('notifyPhone').value = '';
                
            } catch (e) {
                console.error(e);
                showToast('Gagal menyimpan', 'error');
            }
        }

        // Clear Input
        function clearNotify() {
            document.getElementById('notifyPhone').value = '';
        }

        // Modal Controls
        function showSuccessModal() {
            document.getElementById('successModal').classList.remove('hidden');
        }

        function hideSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
        }

        // Toast
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            const icon = document.getElementById('toastIcon');
            const msg = document.getElementById('toastMessage');
            
            msg.textContent = message;
            
            const icons = {
                success: '<svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>',
                error: '<svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>',
                info: '<svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>'
            };
            
            icon.innerHTML = icons[type] || icons.info;
            
            toast.classList.remove('opacity-0', '-translate-y-4');
            toast.classList.add('opacity-100', 'translate-y-0');
            
            setTimeout(() => {
                toast.classList.remove('opacity-100', 'translate-y-0');
                toast.classList.add('opacity-0', '-translate-y-4');
            }, 3000);
        }
    </script>
</body>
</html>